{"id":"vibedj-042","title":"Music library stats on config screen","description":"Add a stats section to the Music tab in the config screen showing library statistics for an already-indexed music library. Layout: indexing-related stats (indexing completeness, last indexed) at the top, followed by library stats (song count, artist count, album count, total play time). Requires a new backend endpoint and a frontend stats component in MusicTab. Only show stats when a library has been indexed (i.e., songs exist in the database).","status":"closed","priority":2,"issue_type":"feature","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:17:15Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:46:31Z","closed_at":"2026-02-12T21:46:31Z","close_reason":"All subtasks completed: backend endpoint (vibedj-042.1) and frontend display (vibedj-042.2) for music library stats on config screen"}
{"id":"vibedj-042.1","title":"Add GET /api/library/stats endpoint for music library statistics","description":"Add a new API endpoint that returns library statistics by querying the database. Stats to return: total songs, distinct artist count, distinct album count, total play time (sum of duration), songs with features vs total (indexing completeness), and last indexed timestamp. Extend MusicDatabase with a get_library_stats() method using SQLAlchemy aggregate queries (COUNT, COUNT DISTINCT, SUM). Return as a Pydantic response model (LibraryStatsResponse). Key files: src/vibe_dj/core/database.py, src/vibe_dj/api/routes/ (new or existing route file), src/vibe_dj/api/models.py.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:17:23Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:42:30Z","closed_at":"2026-02-12T21:42:30Z","close_reason":"Implemented GET /api/library/stats endpoint with MusicDatabase.get_library_stats(), LibraryStatsResponse model, and full test coverage"}
{"id":"vibedj-042.2","title":"Frontend: display library stats on Music tab in config screen","description":"Add a stats display section to the MusicTab component. Fetch stats from GET /api/library/stats on mount. Layout: top section shows indexing completeness (e.g., '450/500 songs analyzed' with a progress indicator) and last indexed timestamp. Below that, show library stats: total songs, distinct artists, distinct albums, and total play time (formatted as hours/minutes). Only render the stats section when the library has been indexed (total_songs \u003e 0). Create a useLibraryStats hook for fetching. Key files: ui/src/components/MusicTab.tsx, ui/src/hooks/ (new hook), ui/src/types/index.ts.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:17:30Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:46:27Z","closed_at":"2026-02-12T21:46:27Z","close_reason":"Implemented frontend library stats display with useLibraryStats hook, LibraryStats type, and MusicTab stats section with indexing completeness bar and 2x2 stats grid"}
{"id":"vibedj-2k3","title":"Epic: Web playlist controls + CLI retirement","description":"Deliver web parity for playlist generation controls (custom playlist length and BPM jitter defaults) and remove the legacy CLI/runtime/docs references now that web app is the primary interface.","status":"closed","priority":2,"issue_type":"epic","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:00Z","created_by":"Nick Seward","updated_at":"2026-02-13T21:15:47Z","closed_at":"2026-02-13T21:15:47Z","close_reason":"All 9 child tasks completed: playlist config model+API defaults, frontend types/constants, PlaylistTab settings UI, playlist size selector in generator, BPM jitter wiring, CLI removal, Dockerfile+docs cleanup, and comprehensive test coverage. Epic fully delivered."}
{"id":"vibedj-2k3.1","title":"Add playlist default fields to backend config model","description":"Add default_playlist_size and default_bpm_jitter to Config dataclass with defaults (20, 5.0), include validation, and update config.example.json.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:08Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:26:55Z","closed_at":"2026-02-13T20:26:55Z","close_reason":"Added default_playlist_size and default_bpm_jitter to Config dataclass with validation constants and 9 new tests. All quality gates pass (216 Python, 69 UI)."}
{"id":"vibedj-2k3.2","title":"Expose playlist defaults in config API (GET/PUT)","description":"Extend /api/config response and update payload handling to include default_playlist_size and default_bpm_jitter. Add server-side validation for allowed sizes [15,20,25,30,35,40] and jitter range 1..20.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:14Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:31:42Z","closed_at":"2026-02-13T20:31:42Z","close_reason":"Implemented: added default_playlist_size and default_bpm_jitter to ConfigResponse and UpdateConfigRequest, with server-side validation using shared constants. 12 new tests added."}
{"id":"vibedj-2k3.3","title":"Update frontend config types/constants for playlist defaults","description":"Add frontend type fields and shared constants for playlist size options/defaults so settings and generation flows use one source of truth.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:18Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:35:30Z","closed_at":"2026-02-13T20:35:30Z","close_reason":"Added PLAYLIST_SIZE_OPTIONS, PlaylistSize type, DEFAULT_PLAYLIST_SIZE, BPM_JITTER_MIN/MAX/DEFAULT constants, and updated ConfigResponse + UpdateConfigRequest interfaces with playlist default fields."}
{"id":"vibedj-2k3.4","title":"Add Playlist settings tab (BPM slider + default size dropdown)","description":"Add a new Playlist tab in settings with BPM jitter slider (1..20), visual oscillation indicator, and default playlist size dropdown (15,20,25,30,35,40) with save behavior consistent with existing tabs.","status":"closed","priority":2,"issue_type":"feature","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:23Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:39:19Z","closed_at":"2026-02-13T20:39:19Z","close_reason":"Created PlaylistTab component with BPM jitter slider (visual oscillation indicator), default playlist size dropdown, and Save button. Integrated into ConfigScreen as new Playlist tab. 3 new UI tests added."}
{"id":"vibedj-2k3.5","title":"Add playlist size selector to generator flow","description":"Add playlist length dropdown (15,20,25,30,35,40; default 20) in the generate playlist UI and use configured default as initial value.","status":"closed","priority":2,"issue_type":"feature","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:29Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:53:47Z","closed_at":"2026-02-13T20:53:47Z","close_reason":"Completed"}
{"id":"vibedj-2k3.6","title":"Use configured BPM jitter in playlist generation payload","description":"Replace hardcoded bpm_jitter in UI generate request with settings-configured default. Update hook signatures to accept explicit generation parameters.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:35Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:59:33Z","closed_at":"2026-02-13T20:59:33Z","close_reason":"Completed: replaced hardcoded bpm_jitter with config-derived value in UI generate/regenerate calls"}
{"id":"vibedj-2k3.7","title":"Remove CLI module and script entrypoint wiring","description":"Remove src/vibe_dj/main.py Click CLI code and packaging entrypoint wiring (vibe_dj:main). Ensure package init no longer imports CLI and API startup remains intact.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:40Z","created_by":"Nick Seward","updated_at":"2026-02-13T21:02:36Z","closed_at":"2026-02-13T21:02:36Z","close_reason":"Completed: removed main.py CLI, __init__.py wiring, [project.scripts], and click dependency"}
{"id":"vibedj-2k3.8","title":"Repurpose root Dockerfile and docs away from CLI usage","description":"Repurpose root Dockerfile to run API server (not vibe-dj CLI) and clean CLI references in README/docs/runtime instructions.","status":"closed","priority":2,"issue_type":"chore","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:44Z","created_by":"Nick Seward","updated_at":"2026-02-13T21:08:00Z","closed_at":"2026-02-13T21:08:00Z","close_reason":"Completed: repurposed Dockerfile to full multi-stage API+UI build, cleaned CLI references from README"}
{"id":"vibedj-2k3.9","title":"Add/update tests for playlist defaults and CLI retirement","description":"Add backend/frontend tests for new playlist config defaults + UI controls, and remove/update any CLI-related tests or assumptions so full test suite stays green.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T18:59:49Z","created_by":"Nick Seward","updated_at":"2026-02-13T21:14:44Z","closed_at":"2026-02-13T21:14:44Z","close_reason":"Added 38 new frontend tests: PlaylistTab.test.tsx (20 tests) and PlaylistView.test.tsx (18 tests). Backend tests already comprehensive. No CLI test references to clean up. Full suite green: 227 Python + 113 UI tests."}
{"id":"vibedj-2ta","title":"[ui-theme-v1-1-semantic-consistency] Component Updates: Specific styling changes","description":"Update SongCard: Replace hardcoded red in remove button with .btn-danger variant and semantic colors. Update ChoiceListDrawer, ProfilesTab, MusicTab, PlaylistView, SubSonicTab, ConfigScreen, SearchResults, SearchForm, ProfileSelector, PlaylistTab, and ToastContext to use semantic colors and variants. Standardize button variants and color usage across all components.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:17Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:39:29Z","closed_at":"2026-02-23T02:39:29Z","close_reason":"Replaced all hardcoded red/green colors with semantic tokens (text-error, text-success, bg-error, bg-success). Updated ProfilesTab delete button to use btn-danger variant. All error messages now use text-error, all success messages use text-success. Components updated: SongCard, ChoiceListDrawer, ProfilesTab, MusicTab, PlaylistView, SubSonicTab, PlaylistTab, SearchForm, ProfileSelector. All changes verified against theme.spec.md."}
{"id":"vibedj-2w3","title":"Indexing progress lost when user navigates away from config screen","description":"When a user starts indexing their music library from Config \u003e Music tab, the indexing status (progress bar, spinner, messages) is stored in component-local useState inside useIndexing hook. If the user closes the config screen or navigates away, ConfigScreen unmounts, polling stops, and all state is lost. When they return, they see a blank idle screen with no indication that indexing is still running on the backend. The backend job continues fine â€” the problem is purely frontend state loss. Fix: Add a backend 'active job' endpoint (GET /api/index/active) so the frontend can check for in-progress jobs on mount and resume polling. Key files: ui/src/hooks/useIndexing.ts, ui/src/components/MusicTab.tsx, src/vibe_dj/api/","status":"closed","priority":2,"issue_type":"bug","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:06:53Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:35:33Z","closed_at":"2026-02-12T21:35:33Z","close_reason":"Both subtasks complete: backend GET /api/index/active endpoint (2w3.1) and frontend active job detection on mount (2w3.2). Indexing progress now persists across navigation."}
{"id":"vibedj-2w3.1","title":"Add GET /api/index/active endpoint to return currently running indexing job","description":"Add a new API endpoint GET /api/index/active that checks for any currently running or queued indexing job and returns its status. If no job is active, return a response indicating that (e.g., null job_id or 404). This endpoint will be called by the frontend on mount to detect and reconnect to in-progress indexing jobs. Should return the same JobStatusResponse shape used by GET /api/status/{job_id}. Key files: src/vibe_dj/api/ (index routes), and wherever the background job state is managed.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:07:30Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:30:15Z","closed_at":"2026-02-12T21:30:15Z","close_reason":"Added get_active_job() to JobManager and GET /api/index/active endpoint. Returns active job status or idle response. 8 new tests, all 197+56 pass."}
{"id":"vibedj-2w3.2","title":"Frontend: check for active indexing job on mount and resume polling","description":"Update useIndexing hook to check GET /api/index/active on mount. If an active job is found, set the jobId and isIndexing state and start polling for status updates. This ensures that when the user navigates away from the config screen and comes back (or refreshes the browser), the progress bar and status messages reappear automatically. Key files: ui/src/hooks/useIndexing.ts, ui/src/components/MusicTab.tsx.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T21:07:36Z","created_by":"Nick Seward","updated_at":"2026-02-12T21:35:28Z","closed_at":"2026-02-12T21:35:28Z","close_reason":"Frontend useIndexing hook checks GET /api/index/active on mount, resumes polling if active job found. 5 new hook tests, all 197+61 pass."}
{"id":"vibedj-35o","title":"Remove credential override section from SubSonic sync modal","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T20:40:06Z","created_by":"Nick Seward","updated_at":"2026-02-12T20:51:02Z","closed_at":"2026-02-12T20:51:02Z","close_reason":"Removed credential override section from SubSonic sync modal. Cleaned up PlaylistView.tsx, App.tsx, and useApi.ts."}
{"id":"vibedj-3dg","title":"Epic: Reorganize test files for better structure and maintainability","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:45:53Z","created_by":"Nick Seward","updated_at":"2026-02-07T20:19:07Z","closed_at":"2026-02-07T20:19:07Z","close_reason":"Closed"}
{"id":"vibedj-3dg.1","title":"Split test_api.py: Extract TestRootEndpoints into tests/unit/api/test_root_routes.py","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:04Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.10","title":"Final verification: Run all Python and UI tests after reorganization","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:47:46Z","created_by":"Nick Seward","updated_at":"2026-02-07T20:19:04Z","closed_at":"2026-02-07T20:19:04Z","close_reason":"Closed"}
{"id":"vibedj-3dg.11","title":"Convert tests/unit/core/ from unittest to pytest style (4 files)","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:52:46Z","created_by":"Nick Seward","updated_at":"2026-02-07T18:52:26Z","closed_at":"2026-02-07T18:52:26Z"}
{"id":"vibedj-3dg.12","title":"Convert tests/unit/models/ from unittest to pytest style (4 files)","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:52:59Z","created_by":"Nick Seward","updated_at":"2026-02-07T18:59:15Z","closed_at":"2026-02-07T18:59:15Z","close_reason":"Closed"}
{"id":"vibedj-3dg.13","title":"Convert tests/unit/services/ unittest files to pytest style (2 files)","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:53:12Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:07:24Z","closed_at":"2026-02-07T19:07:24Z","close_reason":"Closed"}
{"id":"vibedj-3dg.14","title":"Convert tests/integration/test_resumable_indexing.py from unittest to pytest style","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:53:23Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:10:51Z","closed_at":"2026-02-07T19:10:51Z","close_reason":"Closed"}
{"id":"vibedj-3dg.2","title":"Split test_api.py: Extract TestIndexEndpoints and TestRunIndexingJob into tests/unit/api/test_index_routes.py","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:16Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.3","title":"Split test_api.py: Extract TestPlaylistEndpoints into tests/unit/api/test_playlist_routes.py","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:25Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.4","title":"Split test_api.py: Extract TestSongsEndpoints and TestSearchSongsMultiEndpoint into tests/unit/api/test_songs_routes.py","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:35Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.5","title":"Split test_api.py: Extract TestBackgroundJobManager into tests/unit/api/test_background.py","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:47Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.6","title":"Create shared conftest.py for tests/unit/api/ with common fixtures","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:46:59Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:17:10Z","closed_at":"2026-02-07T19:17:10Z","close_reason":"Closed"}
{"id":"vibedj-3dg.7","title":"Delete tests/test_api.py after all split tasks are complete","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:47:11Z","created_by":"Nick Seward","updated_at":"2026-02-07T19:21:46Z","closed_at":"2026-02-07T19:21:46Z","close_reason":"Closed"}
{"id":"vibedj-3dg.8","title":"Move UI component tests from ui/src/components/ to ui/src/test/components/","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:47:21Z","created_by":"Nick Seward","updated_at":"2026-02-07T20:19:02Z","closed_at":"2026-02-07T20:19:02Z","close_reason":"Closed"}
{"id":"vibedj-3dg.9","title":"Move UI context tests from ui/src/context/ to ui/src/test/context/","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T13:47:35Z","created_by":"Nick Seward","updated_at":"2026-02-07T20:19:03Z","closed_at":"2026-02-07T20:19:03Z","close_reason":"Closed"}
{"id":"vibedj-3nn","title":"[ui-theme-v1-1-semantic-consistency] Global Styles: Update gradients and effects","description":"Update .gradient-bg to use semantic colors if needed. Update .gradient-text to use semantic primary and secondary. Ensure card hover effects use semantic surface-hover. Update any hardcoded colors in global CSS classes.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:21Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:43:41Z","closed_at":"2026-02-23T02:43:41Z","close_reason":"Replaced hardcoded #16213e in .gradient-bg with var(--color-surface-hover). Verified .gradient-text uses semantic primary/secondary/accent colors. Verified .card:hover uses semantic surface-hover and primary/50. All global CSS classes now use semantic tokens with no hardcoded colors remaining."}
{"id":"vibedj-6dt","title":"[ui-theme-v1-1-semantic-consistency] Testing: Validate implementation and consistency","description":"Run full test suite to ensure no regressions. Manually test all button variants and states in different components. Audit all components for remaining hardcoded colors or inconsistent styling. Verify semantic token usage across the entire codebase. Test loading states in async operations (search, sync, regenerate). Ensure visual consistency across music tab, playlist views, modals, and sidebar.","status":"closed","priority":1,"issue_type":"chore","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:31Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:55:23Z","closed_at":"2026-02-23T02:55:23Z","close_reason":"Completed comprehensive testing and validation. All 458 tests passing (295 Python + 163 UI). Fixed last hardcoded colors in ToastContext. Verified 100% semantic token adoption across codebase. All button variants validated. Loading states verified. Created test-validation.md report documenting all findings."}
{"id":"vibedj-8on","title":"Security hardening: remove playlist file writes and fix SSRF","description":"Implement security hardening to remove filesystem playlist export/download paths and enforce SSRF protections for outbound SubSonic/Navidrome URLs. Includes backend, frontend contract changes, and associated test updates.","status":"closed","priority":1,"issue_type":"epic","owner":"nick@homeslice.ca","created_at":"2026-02-13T07:30:25Z","created_by":"Nick Seward","updated_at":"2026-02-13T20:23:00Z","closed_at":"2026-02-13T20:23:00Z","close_reason":"All 3 sub-tasks completed: playlist sync refactored to in-memory (8on.1), file export API surface removed (8on.2), SSRF hardening added (8on.3)."}
{"id":"vibedj-8on.1","title":"Refactor playlist sync to SubSonic-only without temp file writes (code + tests)","description":"Refactor playlist sync flow so syncing to SubSonic/Navidrome does not require temporary playlist files on disk. Update route/service interfaces and implementation to operate in-memory only. Include route/service/unit test updates and regressions proving no temp-file write in sync flow.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T07:30:36Z","created_by":"Nick Seward","updated_at":"2026-02-13T15:30:36Z","closed_at":"2026-02-13T15:30:36Z","close_reason":"Completed"}
{"id":"vibedj-8on.2","title":"Remove playlist file export/write API surface (backend + UI + tests)","description":"Remove file-writing playlist capabilities from product surface: delete /api/export and /api/playlist/download endpoints, remove output_path-based contracts, and update frontend/types/hooks accordingly so playlists are no longer written to disk for user download. Include all associated backend and UI test updates in this bead.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-13T07:30:36Z","created_by":"Nick Seward","updated_at":"2026-02-13T15:54:49Z","closed_at":"2026-02-13T15:54:49Z","close_reason":"Completed"}
{"id":"vibedj-8on.3","title":"SSRF hardening for Navidrome/SubSonic URL inputs (backend + tests)","description":"Add centralized outbound URL validation for Navidrome/SubSonic targets and enforce it in connection-test and sync paths. Block unsafe schemes/hosts (localhost, loopback/private/link-local where appropriate), reject malformed URLs, and add positive/negative tests validating SSRF protections.","status":"closed","priority":1,"issue_type":"bug","owner":"nick@homeslice.ca","created_at":"2026-02-13T07:30:36Z","created_by":"Nick Seward","updated_at":"2026-02-13T19:12:56Z","closed_at":"2026-02-13T19:12:56Z","close_reason":"Completed"}
{"id":"vibedj-8z4","title":"Search Results Pagination Navigation At Top and Bottom","description":"The search results are paginated but the controls to navigate the pagination are only at the bottom of the page. This is not user friendly as the user has to scroll to the bottom of the page to navigate to the next page of results.","design":"- Add pagination controls to the top of the search results page (in addition to the existing bottom controls).\n- Pagination controls should appear at both top and bottom of search results.\n- The pagination controls should be hidden when there is only one page of results.\n- No sticky behavior neededâ€”controls remain at their fixed top/bottom positions.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-04T21:03:51Z","created_by":"Nick Seward","updated_at":"2026-02-06T19:57:52Z","closed_at":"2026-02-05T19:19:37Z"}
{"id":"vibedj-9xk","title":"[ui-theme-v1-1-semantic-consistency] Documentation: Update guides and references","description":"Update component documentation to reference semantic tokens. Create usage guidelines for button variants. Document design token reference for developers. Update any style guides to reflect v1.1 changes.","status":"closed","priority":1,"issue_type":"chore","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:36Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:59:20Z","closed_at":"2026-02-23T02:59:20Z","close_reason":"Completed comprehensive documentation for v1.1 theme system. Created design-tokens.md (complete token reference), button-variants.md (usage guidelines with examples), and STYLE_GUIDE.md (comprehensive style guide). All documentation includes migration guides, best practices, accessibility notes, and cross-references."}
{"id":"vibedj-ac0","title":"SubSonic Connection Test Button Enable Fix","description":"The SubSonic settings have a button that allows the user to test the connection to the SubSonic server. Currently, the \"Test Connection\" button is only enabled if the password field has user-typed content. However, when a password is already stored in settings (displayed as stars), the button remains disabled even though valid credentials exist. This is a bug.","design":"- Keep the current behavior where the password field shows stars if a password is stored in settings.\n- The \"Test Connection\" button should be enabled if:\n  - The password field has user-typed content, OR\n  - A password is already stored in the settings\n- When testing the connection:\n  - Use the newly typed password if the user has entered one (takes precedence)\n  - Otherwise, use the password stored in settings\n- Error and success feedback are already handled by the existing implementation.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-04T21:03:58Z","created_by":"Nick Seward","updated_at":"2026-02-04T21:20:41Z","closed_at":"2026-02-04T21:20:41Z","close_reason":"Closed"}
{"id":"vibedj-bt8","title":"ðŸŽ¯ [EPIC] ui-theme-v1-1-semantic-consistency","description":"Evolve the UI theme to v1.1 with semantic design tokens, eliminating hardcoded values, and ensuring strict consistency rules. This creates a production-ready, maintainable system.","status":"open","priority":0,"issue_type":"epic","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:13:52Z","created_by":"Nick Seward","updated_at":"2026-02-22T02:13:52Z"}
{"id":"vibedj-cq0","title":"Epic: Replace tqdm with real-time progress reporting for music indexing","description":"Remove tqdm dependency from LibraryIndexer and replace it with a progress callback mechanism that reports real-time indexing progress (phase, processed count, total count) back to the UI via the JobManager polling system. Currently the indexer uses tqdm for CLI progress bars and the UI only sees coarse status messages (scanning/completed). After this work, the UI will show per-file progress like 'Analyzing audio (42/200)' for each indexing phase.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-06T20:17:04Z","created_by":"Nick Seward","updated_at":"2026-02-06T21:50:48Z","closed_at":"2026-02-06T21:50:48Z","close_reason":"Closed"}
{"id":"vibedj-cq0.1","title":"Add progress callback to LibraryIndexer and remove tqdm","description":"Add an optional progress_callback parameter (Callable[[str, int, int], None] for phase/processed/total) to index_library() and thread it through extract_metadata_phase() and extract_features_phase(). Remove tqdm from both loops and replace with callback invocations. Remove tqdm import. Update all existing Python tests for the indexer to account for the new callback parameter.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-06T20:17:19Z","created_by":"Nick Seward","updated_at":"2026-02-06T21:10:42Z","closed_at":"2026-02-06T21:10:42Z","close_reason":"Closed"}
{"id":"vibedj-cq0.2","title":"Wire progress callback into run_indexing_job via JobManager","description":"In run_indexing_job (api/routes/index.py), create a progress callback closure that calls job_manager.update_progress() with structured data (phase, processed, total, message). Pass this callback to indexer.index_library(). Update the progress updates to report per-phase granular status instead of just 'Scanning music library...'. Update Python API/route tests to verify progress updates are called during indexing.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-06T20:17:25Z","created_by":"Nick Seward","updated_at":"2026-02-06T21:29:05Z","closed_at":"2026-02-06T21:29:05Z","close_reason":"Closed"}
{"id":"vibedj-cq0.3","title":"Update UI to display granular indexing progress","description":"Update MusicTab.tsx to render processed/total counts from the progress data (status.progress.processed, status.progress.total) in addition to the existing message. Update the getProgressMessage() function to format richer progress info. Add/update UI tests in MusicTab or related test files to verify progress display with mock status data containing processed/total fields.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-06T20:17:31Z","created_by":"Nick Seward","updated_at":"2026-02-06T21:47:44Z","closed_at":"2026-02-06T21:47:44Z","close_reason":"Closed"}
{"id":"vibedj-cq0.4","title":"Remove tqdm from project dependencies","description":"Remove tqdm from pyproject.toml dependencies. Run tests to confirm nothing else depends on it. This should be done after vibedj-cq0.1 removes the tqdm usage from indexer.py.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-06T20:17:37Z","created_by":"Nick Seward","updated_at":"2026-02-06T21:50:44Z","closed_at":"2026-02-06T21:50:44Z","close_reason":"Closed"}
{"id":"vibedj-d8b","title":"[ui-theme-v1-1-semantic-consistency] Tailwind Config: Update configuration for design tokens","description":"Verify Tailwind v4 configuration with @theme directive. Ensure CSS variables for colors, spacing, border radius, and shadows are properly configured in index.css @theme block. Verify Tailwind builds correctly and CSS variables are accessible in component classes. Note: Tailwind v4 uses @theme directive in CSS, not traditional tailwind.config.js.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:02Z","created_by":"Nick Seward","updated_at":"2026-02-22T12:30:39Z","closed_at":"2026-02-22T12:30:39Z","close_reason":"Verified: Tailwind v4 configuration complete via @theme directive in index.css. All design tokens (colors, spacing, border-radius, shadows) properly configured and accessible. Build successful, all 163 tests passing. Note: Tailwind v4 uses @theme directive instead of traditional tailwind.config.js - no separate config file needed."}
{"id":"vibedj-f7y","title":"[ui-theme-v1-1-semantic-consistency] Button Variants: Implement CSS classes for all variants","description":"Define .btn-outline class with transparent background, primary border, hover to primary background. Define .btn-ghost class with transparent background, text color, hover to surface-hover. Define .btn-danger class with error background, white text, hover to darker error. Add loading state styles for all button variants (spinner icon, disabled appearance). Ensure all button variants have consistent padding, border radius, and transitions.","status":"closed","priority":1,"issue_type":"feature","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:07Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:32:47Z","closed_at":"2026-02-23T02:32:47Z","close_reason":"Implemented .btn-outline, .btn-ghost, .btn-danger CSS classes with loading states. All variants follow theme.spec.md requirements: consistent padding (px-6 py-2.5), border-radius (rounded-lg), transitions (duration-200), disabled states (50% opacity), and semantic color tokens. Added .btn-loading class with spinner animation for async operations."}
{"id":"vibedj-gjo","title":"Song Selection Highlighting","description":"When a user selects a song in the search results, the song should be highlighted in the search results. Right now there is no highlighting of the selected song making it hard to see which song is selected. Currently, a \"+\" turns into a checkmark near the result item, but this is insufficient visual feedback.","design":"- When a song is selected, the song row should be highlighted in the search results.\n- Multi-select is already supported; each selected song should be highlighted.\n- The colour of the highlight should be a light colour that matches the theme of the application. A light purple and pink mix would be a good choice.\n- Songs should remain highlighted during and after playlist generation.\n- Highlights are cleared via the existing reset button or by starting a new search.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-04T21:03:44Z","created_by":"Nick Seward","updated_at":"2026-02-06T19:57:52Z","closed_at":"2026-02-05T19:07:59Z"}
{"id":"vibedj-k8i","title":"Epic: Active Profile Selector Feature","description":"Add multi-profile support to Vibe-DJ using SQLite storage, enabling per-profile Subsonic credentials with a 'Shared' default profile and backwards compatibility. Profiles use user-friendly display names (e.g., 'Nick', 'Family'), passwords are encrypted, and the 'Shared' profile is delete-protected. See profile_selector_feature.md for full specification.","status":"closed","priority":1,"issue_type":"epic","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:51:48Z","created_by":"Nick Seward","updated_at":"2026-02-17T21:14:16Z","closed_at":"2026-02-17T21:14:16Z","close_reason":"All 7 child tasks complete: Profile model, API routes, Navidrome integration, frontend types/hooks/context, ProfileSelector dropdown, ProfilesTab settings, and startup migration."}
{"id":"vibedj-k8i.1","title":"Profile SQLAlchemy model + ProfileDatabase class with encryption","description":"Create Profile SQLAlchemy model (id, display_name, subsonic_url, subsonic_username, subsonic_password_encrypted, created_at, updated_at) in src/vibe_dj/models/profile.py. Create ProfileDatabase class in src/vibe_dj/core/profile_database.py with CRUD methods (get_profile, get_all_profiles, create_profile, update_profile, delete_profile) and password encryption/decryption using Fernet. Use separate profiles.db file. Add init_db() that creates 'shared' profile if not exists. Export Profile from models/__init__.py. Include unit tests for ProfileDatabase CRUD operations and encryption.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:52:00Z","created_by":"Nick Seward","updated_at":"2026-02-16T08:10:01Z","closed_at":"2026-02-16T08:10:01Z","close_reason":"Implemented Profile SQLAlchemy model and ProfileDatabase class with Fernet encryption. 33 unit tests covering CRUD, encryption, and edge cases. All 260 Python + 113 UI tests passing."}
{"id":"vibedj-k8i.2","title":"Profile API routes + dependencies","description":"Create profile API routes in src/vibe_dj/api/routes/profiles.py: GET /profiles (list all), GET /profiles/{profile_id} (get details), POST /profiles (create new), PUT /profiles/{profile_id} (update), DELETE /profiles/{profile_id} (delete, protect 'shared'). Create Pydantic request/response models (ProfileResponse, CreateProfileRequest, UpdateProfileRequest). Add get_profile_database() and get_active_profile() dependencies in src/vibe_dj/api/dependencies.py. Register routes in routes/__init__.py. Include unit tests for all endpoints including 'shared' delete protection.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:52:07Z","created_by":"Nick Seward","updated_at":"2026-02-16T09:34:53Z","closed_at":"2026-02-16T09:34:53Z","close_reason":"Completed: Profile CRUD routes, Pydantic models, get_profile_database/get_active_profile dependencies, 15 unit tests. All quality gates pass."}
{"id":"vibedj-k8i.3","title":"Integrate profile credentials into Navidrome sync flow","description":"Modify Navidrome integration to use active profile credentials. Update src/vibe_dj/api/routes/playlist.py (generate_playlist, sync_playlist_to_navidrome) to extract active profile from X-Active-Profile header and use profile credentials with fallback to global config. Update src/vibe_dj/api/routes/config.py /navidrome/test endpoint to optionally use profile credentials. Credential resolution order: request params \u003e active profile \u003e global config. Include unit tests for credential resolution and header extraction.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:52:27Z","created_by":"Nick Seward","updated_at":"2026-02-17T18:57:11Z","closed_at":"2026-02-17T18:57:11Z","close_reason":"Implemented profile credential integration into Navidrome sync flow with full test coverage"}
{"id":"vibedj-k8i.4","title":"Frontend profile types, hooks, and context","description":"Add frontend infrastructure for profiles. Create Profile types in ui/src/types/index.ts (Profile, CreateProfileRequest, UpdateProfileRequest). Create useProfiles hook in ui/src/hooks/useProfiles.ts with CRUD operations (fetchProfiles, createProfile, updateProfile, deleteProfile). Create ProfileContext in ui/src/context/ProfileContext.tsx to store active profile ID in context and persist to localStorage. Update useApi.ts to include X-Active-Profile header in all API requests. Include unit tests for useProfiles hook and ProfileContext.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:52:38Z","created_by":"Nick Seward","updated_at":"2026-02-16T11:12:29Z","closed_at":"2026-02-16T11:12:29Z","close_reason":"Completed: Profile types, useProfiles hook, ProfileContext with localStorage persistence, X-Active-Profile header in useApi, ESLint fixes, 17 new unit tests. All quality gates pass."}
{"id":"vibedj-k8i.5","title":"ProfileSelector dropdown component","description":"Create ProfileSelector component in ui/src/components/ProfileSelector.tsx. Dropdown showing all profiles fetched from API, with current active profile selected. Include 'Add New Profile' option at bottom that opens a modal/form. Place in header area visible on all screens. Update App.tsx to wrap with ProfileProvider and add ProfileSelector to layout. Style consistent with existing UI (TailwindCSS, Framer Motion). Include unit tests for ProfileSelector rendering and selection behavior.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:52:49Z","created_by":"Nick Seward","updated_at":"2026-02-17T21:10:30Z","closed_at":"2026-02-17T21:10:30Z","close_reason":"ProfileSelector dropdown component implemented with unit tests. Fixed top-right header placement visible on all screens."}
{"id":"vibedj-k8i.6","title":"ProfilesTab settings component for profile management","description":"Create ProfilesTab component in ui/src/components/ProfilesTab.tsx. New tab in ConfigScreen for profile management. List existing profiles with Edit/Delete buttons ('shared' profile shows delete disabled). Form for creating/editing profiles: display name, Subsonic URL, username, password fields. Save/Cancel buttons with validation. Update ConfigScreen.tsx to add 'Profiles' tab to tabs array and render ProfilesTab. Style consistent with existing MusicTab/SubSonicTab. Include unit tests for ProfilesTab rendering, form validation, and CRUD interactions.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:53:01Z","created_by":"Nick Seward","updated_at":"2026-02-17T21:14:04Z","closed_at":"2026-02-17T21:14:04Z","close_reason":"ProfilesTab component implemented with list/create/edit/delete, Shared profile protections, unit tests, and ConfigScreen integration."}
{"id":"vibedj-k8i.7","title":"App startup migration: initialize profiles DB and migrate existing credentials","description":"Add startup initialization logic in src/vibe_dj/app.py. On app startup: initialize profile database, create 'shared' profile if not exists, migrate existing Navidrome credentials from config.json to 'shared' profile (encrypt password). Log migration status. Ensure /data mount includes profiles.db (no Docker changes needed if /data already mounted). Include integration test verifying migration from config.json to 'shared' profile and idempotent re-runs.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-16T07:53:13Z","created_by":"Nick Seward","updated_at":"2026-02-17T18:45:27Z","closed_at":"2026-02-17T18:45:27Z","close_reason":"Implemented _initialize_profiles() in app.py: initializes profile DB on startup, creates Shared profile, migrates Navidrome credentials from config.json (idempotent). 5 integration tests added. All 280 Python + 131 UI tests passing."}
{"id":"vibedj-m1x","title":"[ui-theme-v1-1-semantic-consistency] CSS Variables: Add semantic color and design tokens","description":"Add semantic color variables (--color-error, --color-success, --color-warning, --color-info) and design token scales for spacing (--space-xs to --space-2xl), border radius (--radius-sm to --radius-xl), and shadows (--elevation-sm to --elevation-lg) to index.css @theme block. Ensure all existing theme colors are defined as CSS variables. Note: Custom token prefixes use --space-*, --radius-*, --elevation-* to avoid colliding with Tailwind v4's reserved --spacing-*, --border-radius-*, --shadow-* namespaces.","status":"closed","priority":1,"issue_type":"feature","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:13:58Z","created_by":"Nick Seward","updated_at":"2026-02-22T13:08:18Z","closed_at":"2026-02-22T12:07:35Z","close_reason":"Completed: Added all semantic color variables (error, success, warning, info) and design token scales (spacing, border-radius, shadows) to index.css @theme block. All values verified against openspec/specs/ui/theme.spec.md. Tests passing. Tasks 1.1-1.5 completed in tasks.md with traceability."}
{"id":"vibedj-n8y","title":"Rename 'Navidrome' to 'SubSonic' in playlist sync UI text","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-12T20:39:57Z","created_by":"Nick Seward","updated_at":"2026-02-12T20:46:48Z","closed_at":"2026-02-12T20:46:48Z","close_reason":"Renamed 3 user-facing Navidrome strings to SubSonic in PlaylistView.tsx. All 56 UI tests pass."}
{"id":"vibedj-u7l","title":"[ui-theme-v1-1-semantic-consistency] Accessibility: Validate contrast and interaction","description":"Verify all semantic colors meet contrast requirements in dark mode. Ensure focus indicators use semantic colors with sufficient visibility. Test keyboard navigation with new button variants. Validate that loading states don't break accessibility.","status":"closed","priority":1,"issue_type":"chore","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:26Z","created_by":"Nick Seward","updated_at":"2026-02-23T02:48:49Z","closed_at":"2026-02-23T02:48:49Z","close_reason":"Completed accessibility validation. All semantic colors meet WCAG 2.1 AA contrast requirements (4.5:1+). Focus indicators use semantic primary color with 6.1:1 contrast. Keyboard navigation verified for all button variants with proper ARIA attributes. Loading states maintain accessibility. Created comprehensive accessibility-validation.md report documenting all findings."}
{"id":"vibedj-uk1","title":"[ui-theme-v1-1-semantic-consistency] Component Refactor: Use semantic tokens throughout","description":"Replace all hardcoded colors (red-400, red-500, etc.) with semantic tokens in component classes. Update spacing to prefer Tailwind utility classes (p-4, gap-2, etc.); use --space-* tokens for non-standard values. Add loading states to buttons in async operations across all components. Update error and success messages to use --color-error and --color-success classes. Ensure input focus rings use semantic primary color consistently.","status":"open","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-22T02:14:12Z","created_by":"Nick Seward","updated_at":"2026-02-22T13:08:31Z"}
{"id":"vibedj-v3v","title":"Refactor core and models tests to class-based grouping","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:26:02Z","created_by":"Nick Seward","updated_at":"2026-02-07T20:31:02Z","closed_at":"2026-02-07T20:31:02Z","close_reason":"Closed"}
{"id":"vibedj-wxu","title":"Reduce Dockerfile-Server image size","description":"Docker image for Dockerfile-Server is over 500MB. This epic tracks work to reduce the final image size through build optimizations.","status":"closed","priority":0,"issue_type":"epic","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:01Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:21:54Z","closed_at":"2026-02-07T21:21:54Z","close_reason":"Closed"}
{"id":"vibedj-wxu.1","title":"Baseline: Build image and run docker history analysis","description":"Build the Dockerfile-Server image and run docker history to get a baseline layer-by-layer size breakdown before making any changes.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:07Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:00:56Z","closed_at":"2026-02-07T21:00:56Z","close_reason":"Closed"}
{"id":"vibedj-wxu.2","title":"Drop -dev packages and add --no-install-recommends","description":"Replace libsndfile1-dev and libmpg123-dev with runtime-only libraries (libsndfile1, libmpg123-0). Add --no-install-recommends to apt-get install. Expected savings: 20-50MB.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:12Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:03:56Z","closed_at":"2026-02-07T21:03:56Z","close_reason":"Closed"}
{"id":"vibedj-wxu.3","title":"Move ruff from production to dev dependencies","description":"Move ruff from project.dependencies to dependency-groups.test (or a new dev group) in pyproject.toml. Ruff is a linter/formatter and should not be in the production Docker image. Expected savings: 30-50MB.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:17Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:14:59Z","closed_at":"2026-02-07T21:14:59Z","close_reason":"Closed"}
{"id":"vibedj-wxu.4","title":"Multi-stage Python build to exclude pip/uv/build artifacts","description":"Refactor Dockerfile-Server to use a multi-stage build for Python dependencies. Build stage installs uv and dependencies; runtime stage copies only site-packages and entry points. This removes pip, uv, setuptools, and build artifacts from the final image. Expected savings: 50-150MB.","status":"closed","priority":1,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:23Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:19:51Z","closed_at":"2026-02-07T21:19:51Z","close_reason":"Closed"}
{"id":"vibedj-wxu.5","title":"Use non-editable install in Dockerfile-Server","description":"Change 'uv pip install --system --no-cache -e .' to 'uv pip install --system --no-cache .' (remove -e flag). Editable installs are for development only. Expected savings: ~5MB.","status":"closed","priority":2,"issue_type":"task","owner":"nick@homeslice.ca","created_at":"2026-02-07T20:47:28Z","created_by":"Nick Seward","updated_at":"2026-02-07T21:20:05Z","closed_at":"2026-02-07T21:20:05Z","close_reason":"Closed"}
